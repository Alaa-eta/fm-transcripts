WEBVTT

1
00:00:00.710 --> 00:00:02.860
&gt;&gt; Brian Holt: Let's talk about router.

2
00:00:03.970 --> 00:00:07.440
So something like Ember,
something like Angular,

3
00:00:07.440 --> 00:00:13.260
these libraries slash frameworks
ship with routers built into them.

4
00:00:13.260 --> 00:00:18.010
So you can build robust single
page applications, right?

5
00:00:18.010 --> 00:00:21.560
Particularly Ember is really
oriented to getting you to building

6
00:00:22.780 --> 00:00:24.090
a single page application.

7
00:00:24.090 --> 00:00:26.070
Don't get me wrong you can build
things with Ember without it,

8
00:00:26.070 --> 00:00:28.120
it's just a big part of the library.

9
00:00:29.270 --> 00:00:30.870
React has no opinion on the matter.

10
00:00:30.870 --> 00:00:35.510
In other words, React does not include
a router with it so if you want to build

11
00:00:35.510 --> 00:00:39.180
a single page application it's up
to you what tools you want to use.

12
00:00:39.180 --> 00:00:41.230
For example,
you can use something like Director,

13
00:00:41.230 --> 00:00:44.300
which is totally agnostic to
frameworks underneath it.

14
00:00:44.300 --> 00:00:46.690
You can use any framework with Director.

15
00:00:48.210 --> 00:00:49.190
However, there is one

16
00:00:50.430 --> 00:00:54.970
in particular router that's built
specifically with React in mind.

17
00:00:54.970 --> 00:00:57.410
And you may have guessed,
it's called React router.

18
00:00:57.410 --> 00:00:59.520
Some very clever naming
scheme that we have here.

19
00:01:03.680 --> 00:01:06.030
React Router is a really
awesome piece of technology.

20
00:01:07.210 --> 00:01:09.760
Particularly the latest version,
which is version 4.

21
00:01:09.760 --> 00:01:13.850
Really well thought out and
pretty easy to work with.

22
00:01:15.240 --> 00:01:18.735
It feels pretty intuitive to
working with React in general.

23
00:01:18.735 --> 00:01:24.320
People's complaint about it, and
actually the reason why I've come back

24
00:01:24.320 --> 00:01:30.820
here now three times, is that the API
thrashes a lot, it has thrashed a lot.

25
00:01:30.820 --> 00:01:33.720
I mean, they've had two pretty huge
rewrites where people have had to

26
00:01:33.720 --> 00:01:38.190
almost rewrite all of their routing
code to deal with their huge rewrites.

27
00:01:38.190 --> 00:01:41.319
From v3 to v4 in particular there
was a really large rewrite.

28
00:01:42.640 --> 00:01:45.440
Understandably so, a lot of people
are really frustrated that they

29
00:01:45.440 --> 00:01:47.200
build their apps on top
of these libraries, and

30
00:01:47.200 --> 00:01:49.880
then they just totally lose
all support underneath them.

31
00:01:50.990 --> 00:01:52.800
So, that's the word of
caution I want to give you,

32
00:01:52.800 --> 00:01:56.170
is that this library has
thrashed majorly twice.

33
00:01:56.170 --> 00:02:00.980
But then again, rails thrash majorly once,
as well, and we all survived.

34
00:02:00.980 --> 00:02:02.090
As far as I know, no one died.

35
00:02:04.380 --> 00:02:05.640
There are alternatives.

36
00:02:05.640 --> 00:02:07.820
There are other great libraries out there.

37
00:02:07.820 --> 00:02:13.790
There is one called,
I believe it's React on Route,

38
00:02:13.790 --> 00:02:17.980
which is written by the same
guy that wrote Express, and

39
00:02:17.980 --> 00:02:20.490
CoA, and
half the other things that you use.

40
00:02:20.490 --> 00:02:22.629
And Stylus and Mocha, and all of those.

41
00:02:23.870 --> 00:02:24.820
And that one's pretty great.

42
00:02:24.820 --> 00:02:27.700
It's much more stripped down and bare.

43
00:02:27.700 --> 00:02:31.120
React router does a lot of really cool and
interesting things for you.

44
00:02:33.003 --> 00:02:34.364
&gt;&gt; Brian Holt: So
that's one we're gonna use today,

45
00:02:34.364 --> 00:02:36.190
cuz I would say that one has
the greatest mind share.

46
00:02:36.190 --> 00:02:38.710
But I just wanted to let you know
that there are alternatives out there

47
00:02:40.020 --> 00:02:41.369
that are also valid choices.

48
00:02:44.010 --> 00:02:46.830
Okay, so we're going to use.

49
00:02:46.830 --> 00:02:47.650
First thing we're going to do,

50
00:02:47.650 --> 00:02:52.130
is we're going to split some of this
code out into it's own component.

51
00:02:52.130 --> 00:02:53.348
So I want you to create a new file.

52
00:02:53.348 --> 00:02:55.880
Call it landing.jsx.

53
00:02:55.880 --> 00:03:01.940
And, what I want you

54
00:03:01.940 --> 00:03:07.500
to make live in Landing is pretty
much all this code in the middle.

55
00:03:07.500 --> 00:03:10.840
So I'm gonna cut that out.

56
00:03:10.840 --> 00:03:17.218
Go to Landing and
say import React from react.

57
00:03:17.218 --> 00:03:21.222
const Landing

58
00:03:21.222 --> 00:03:26.220
=
&gt;&gt; Brian Holt: This is one of my favorite

59
00:03:26.220 --> 00:03:28.970
parts about Prettier in general.

60
00:03:28.970 --> 00:03:33.040
I'm just gonna paste that
grossness in there, right?

61
00:03:33.040 --> 00:03:35.560
I would never let this live as is, right?

62
00:03:35.560 --> 00:03:36.470
But guess what?

63
00:03:36.470 --> 00:03:37.950
Prettier is just gonna fix it for me.

64
00:03:37.950 --> 00:03:40.280
So I don't have to worry about
formatting it correctly.

65
00:03:41.610 --> 00:03:43.450
And then down at the bottom.

66
00:03:43.450 --> 00:03:47.520
I'm just going to say export
default Landing, right?

67
00:03:47.520 --> 00:03:48.220
And I just save it.

68
00:03:48.220 --> 00:03:50.900
Low and behold, everything is fixed.

69
00:03:50.900 --> 00:03:52.140
I just love that.

70
00:03:52.140 --> 00:03:54.030
Like, it just brings joy to my soul.

71
00:03:56.330 --> 00:03:59.220
How much time have you spent
formatting things, right?

72
00:03:59.220 --> 00:04:00.650
Just let the computer do it.

73
00:04:04.697 --> 00:04:07.280
&gt;&gt; Brian Holt: Makes programming
by Stack Overflow so much easier.

74
00:04:11.060 --> 00:04:11.970
&gt;&gt; Brian Holt: You laugh.

75
00:04:11.970 --> 00:04:12.948
It's all of your jobs.

76
00:04:12.948 --> 00:04:15.814
&gt;&gt; Speaker 2: [LAUGH]
&gt;&gt; Brian Holt: [LAUGH] Okay, so

77
00:04:15.814 --> 00:04:18.470
that's what Landing looks like.

78
00:04:21.630 --> 00:04:24.879
Let's go back over to clientapp,

79
00:04:24.879 --> 00:04:29.919
what we're going to do here
import react from react,

80
00:04:29.919 --> 00:04:34.848
we're going to import
render from react-don, and

81
00:04:34.848 --> 00:04:39.909
then we're going to import hashrouter,
and route.

82
00:04:41.290 --> 00:04:47.180
From react-router-dom.

83
00:04:47.180 --> 00:04:51.380
Much like react,
react router works in multiple places, so

84
00:04:51.380 --> 00:04:55.900
there's a react router-native I believe.

85
00:04:55.900 --> 00:04:57.790
And there's, you know potential for
other ones, and

86
00:04:57.790 --> 00:05:02.080
there's also just kind of agnostic
ones like the memory router.

87
00:05:02.080 --> 00:05:03.260
For now, we're going to use hashrouter and

88
00:05:05.240 --> 00:05:09.120
then I will show you later how to
work with browser router, okay.

89
00:05:09.120 --> 00:05:13.185
Then underneath that we're going
to say import landing from

90
00:05:13.185 --> 00:05:18.349
./landing.

91
00:05:22.890 --> 00:05:29.140
So the top level item inside
of App is going to be

92
00:05:30.170 --> 00:05:35.200
HashRouter and

93
00:05:35.200 --> 00:05:40.250
then inside of that were gonna
have one Route which is going

94
00:05:41.830 --> 00:05:45.374
to be exact path='/'

95
00:05:45.374 --> 00:05:51.886
component={landing}.

96
00:05:56.358 --> 00:06:00.210
&gt;&gt; Brian Holt: So there's a bit going on
here so let's unpack what's going on.

97
00:06:01.220 --> 00:06:02.270
Let's start with the route.

98
00:06:02.270 --> 00:06:05.160
I think that's the easiest
thing to reason about.

99
00:06:06.300 --> 00:06:08.460
This is one route of our application.

100
00:06:09.680 --> 00:06:13.010
It's saying that the path to
get there is slash right?

101
00:06:13.010 --> 00:06:14.090
So it's the home page.

102
00:06:15.460 --> 00:06:18.660
And the exact means it must
exactly match that path.

103
00:06:19.760 --> 00:06:26.950
So if I did not have exact in there and
I had /foo or whatever, right?

104
00:06:26.950 --> 00:06:28.870
Slash would still match that, right?

105
00:06:30.870 --> 00:06:32.550
Let me rephrase that.

106
00:06:32.550 --> 00:06:33.460
That's not what I wanted to say.

107
00:06:35.400 --> 00:06:44.610
What I meant to say was that if I
went to /foo in the browser, right?

108
00:06:44.610 --> 00:06:46.780
This would still match /foo right?

109
00:06:48.520 --> 00:06:53.490
Because it work with, I forgot
the name of the path to something or

110
00:06:53.490 --> 00:06:56.329
other, I can't remember the name
of the path matching library is.

111
00:06:57.930 --> 00:07:03.430
But just like if this was /foo, and I went
to /foo/bar, this would also match it.

112
00:07:03.430 --> 00:07:07.050
So if the left side of it,
matches the route, it's gonna match on it.

113
00:07:07.050 --> 00:07:10.154
So that's why you need to do exact,
if that's what you're anticipating.

114
00:07:10.154 --> 00:07:13.120
You're saying only match this,
it has to match exactly that, or

115
00:07:13.120 --> 00:07:13.770
it doesn't match at all.

116
00:07:20.705 --> 00:07:21.205
&gt;&gt; Brian Holt: Okay?

117
00:07:24.850 --> 00:07:26.464
So that's the route.

118
00:07:26.464 --> 00:07:29.241
Then let's talk about HashRouter.

119
00:07:29.241 --> 00:07:33.840
Cuz HashRouter is kind of introduces
us to an interesting concept.

120
00:07:35.570 --> 00:07:39.180
The component is like render this out
if this path is matched here right.

121
00:07:39.180 --> 00:07:43.100
So what it's going to do is
inside of this div right here,

122
00:07:43.100 --> 00:07:44.630
it will render out whatever is in landing.

123
00:07:44.630 --> 00:07:45.880
Does that make sense?

124
00:07:49.575 --> 00:07:54.064
&gt;&gt; Brian Holt: So basically you're saying,
hey route if this path is matched,

125
00:07:54.064 --> 00:07:55.495
render landing.

126
00:07:55.495 --> 00:07:58.715
If path is not matched,
don't render anything.

127
00:07:58.715 --> 00:07:59.695
That's how Router works.

