WEBVTT

1
00:00:00.290 --> 00:00:01.935
&gt;&gt; Brian Holt: Okay, so
now we have searchTerm,

2
00:00:01.935 --> 00:00:04.730
which is gonna be injected as
props into Landing, right?

3
00:00:04.730 --> 00:00:09.630
So now Landing has the ability
to read from its props, and

4
00:00:09.630 --> 00:00:14.090
it's gonna be reading searchTerm,
which is a string, right?

5
00:00:14.090 --> 00:00:16.206
Cuz now we're back into flow land.

6
00:00:18.153 --> 00:00:24.724
&gt;&gt; Brian Holt: And then what we're
gonna do here in the input is,

7
00:00:24.724 --> 00:00:31.620
we're gonna say value={props.searchTerm}.

8
00:00:36.475 --> 00:00:40.484
&gt;&gt; Brian Holt: So just to prove to you
this works, I'm just gonna go into

9
00:00:40.484 --> 00:00:45.170
my reducers just super quick,
change this to something and Save.

10
00:00:46.750 --> 00:00:52.903
Now if I go back to Landing here,
&gt;&gt; Brian Holt: Notice,

11
00:00:52.903 --> 00:00:56.900
yeah, whatever,
ignore your console for the moment.

12
00:00:56.900 --> 00:01:00.870
Notice that something is inputted
there into the box, right?

13
00:01:00.870 --> 00:01:02.430
So that's being read from Redux.

14
00:01:03.570 --> 00:01:08.420
The problem that we have again is,
what happens if I try to type in it?

15
00:01:08.420 --> 00:01:10.910
Nothing happens because it's
continuing to read from Redux and

16
00:01:10.910 --> 00:01:13.280
nothing is updating Redux, right?

17
00:01:13.280 --> 00:01:16.250
We wrote all that set searchTerm stuff,
but nowhere is it being invoked.

18
00:01:16.250 --> 00:01:19.484
So let's go close that loop and
make it invoke.

19
00:01:22.651 --> 00:01:28.195
&gt;&gt; Brian Holt: Okay, so
we're gonna go back to landing.jsx.

20
00:01:28.195 --> 00:01:32.899
&gt;&gt; Brian Holt: And what we're gonna do
is we're gonna make another one of these

21
00:01:32.899 --> 00:01:35.610
called const mapDispatchToProps.

22
00:01:37.710 --> 00:01:39.960
That's gonna be equal to, or

23
00:01:39.960 --> 00:01:46.029
it's gonna take in a dispatch,
&gt;&gt; Brian Holt: Which

24
00:01:46.029 --> 00:01:47.110
is gonna be a function.

25
00:01:50.036 --> 00:01:52.500
&gt;&gt; Brian Holt: That is going
to return an object as well.

26
00:01:54.450 --> 00:02:02.611
&gt;&gt; Brian Holt: And this object is going
to have a handleSearchTermChange,

27
00:02:02.611 --> 00:02:07.417
which is going gonna be a function.

28
00:02:07.417 --> 00:02:09.130
It takes in an event.

29
00:02:11.595 --> 00:02:17.218
&gt;&gt; Brian Holt: And then that event
is going to dispatch the results

30
00:02:17.218 --> 00:02:22.595
of setSearchTerm with event.target.value.

31
00:02:27.517 --> 00:02:30.301
&gt;&gt; Brian Holt: Okay, we need to go
import our setSearchTerm function, so

32
00:02:30.301 --> 00:02:31.870
we're gonna do that real quick.

33
00:02:34.336 --> 00:02:41.097
&gt;&gt; Brian Holt: import { setSearchTerm
} from './actionCreators'.

34
00:02:41.097 --> 00:02:45.710
&gt;&gt; Brian Holt: And then last
thing we need to do is we need to

35
00:02:45.710 --> 00:02:49.429
take this mapDispatchedProps and

36
00:02:49.429 --> 00:02:54.700
pass that into the second
parameter to connect.

37
00:02:59.763 --> 00:03:00.729
&gt;&gt; Brian Holt: I did a lot there,

38
00:03:00.729 --> 00:03:03.900
so let's make sure that we
recount what happened, okay?

39
00:03:03.900 --> 00:03:07.820
I wrote this mapDispatchToProps, right?

40
00:03:07.820 --> 00:03:12.380
This is going to create methods
that Landing is going to be able to

41
00:03:12.380 --> 00:03:17.780
invoke to dispatch events to Redux, okay?

42
00:03:17.780 --> 00:03:20.290
That's the whole point
of mapDispatchToProps is

43
00:03:20.290 --> 00:03:22.830
dispatching actions into Redux.

44
00:03:22.830 --> 00:03:25.119
It's gonna take care of all of that for
us.

45
00:03:26.470 --> 00:03:28.492
We're going to write methods that
take care of that for us, okay?

46
00:03:28.492 --> 00:03:34.990
So mapDispatchToProps,
it's going to return an object.

47
00:03:34.990 --> 00:03:41.690
And everything on this object is going to
be injected as props into Landing, okay?

48
00:03:41.690 --> 00:03:45.353
So I have this handleSearchTerm event,
or handleSearchTermChange, right,

49
00:03:45.353 --> 00:03:50.372
which takes in an event
&gt;&gt; Brian Holt: And based on that event,

50
00:03:50.372 --> 00:03:55.342
whatever the event.target.value is for
that event, it's going to dispatch,

51
00:03:55.342 --> 00:03:58.810
or it's going to pass that
into setSearchTerm, right?

52
00:04:00.000 --> 00:04:03.130
So if we go into,
you remember our action creators.

53
00:04:05.682 --> 00:04:09.460
&gt;&gt; Brian Holt: We created this
setSearchTerm action creator, right?

54
00:04:09.460 --> 00:04:12.160
Where you pass in a search term, and

55
00:04:12.160 --> 00:04:16.400
it gives you a well-formatted action,
right, cool?

56
00:04:16.400 --> 00:04:21.720
So given a search term which is coming
from event.target.value, it's going to

57
00:04:21.720 --> 00:04:27.020
create a new action of type setSearchTerm
and payload searchTerm, right?

58
00:04:27.020 --> 00:04:30.280
So this just returns an action,
there's nothing magical here.

59
00:04:30.280 --> 00:04:32.520
Or, I don't know,
depends what you define magical as.

60
00:04:33.550 --> 00:04:34.840
So, go back to Landing.

61
00:04:36.578 --> 00:04:40.253
&gt;&gt; Brian Holt: That's what this does, this
dispatch function is to say, here Redux,

62
00:04:40.253 --> 00:04:41.710
here's an action, right?

63
00:04:41.710 --> 00:04:43.770
It's just going to pass it into your,

64
00:04:43.770 --> 00:04:45.920
it's going to end up being
in your root reducer.

65
00:04:45.920 --> 00:04:49.580
That's where that action is going
to get routed eventually, okay?

66
00:04:49.580 --> 00:04:52.370
&gt;&gt; Speaker 2: And the event target
value is what they typed up?

67
00:04:52.370 --> 00:04:54.940
&gt;&gt; Brian Holt: Right, in fact, yeah,
let's just go ahead and do that.

68
00:04:54.940 --> 00:05:02.850
So onChange here is gonna be
props.handleSeachTermChange.

69
00:05:03.900 --> 00:05:06.030
We're also gonna have to
declare that on our prop types.

70
00:05:07.180 --> 00:05:09.130
handleSearchTermChange is
going to be a function.

71
00:05:15.209 --> 00:05:18.603
&gt;&gt; Brian Holt: Right, so
maybe that's a little bit more clear now,

72
00:05:18.603 --> 00:05:22.560
onChange is gonna call
props.handle.SearchTermChange.

73
00:05:22.560 --> 00:05:26.960
This got injected from here, right,
from this one that we wrote down here.

74
00:05:29.390 --> 00:05:30.157
&gt;&gt; Brian Holt: Okay, and

75
00:05:30.157 --> 00:05:36.110
then this got injected into Redux right
here via the connect method, right?

76
00:05:36.110 --> 00:05:40.630
So all the connect method really is doing
is it's taking stuff, these objects, and

77
00:05:40.630 --> 00:05:43.040
they're injecting them
into your components so

78
00:05:43.040 --> 00:05:45.720
they can be used as props
inside of your component.

79
00:05:47.350 --> 00:05:49.870
That's really all connect is,
there's not really a lot more to it.

80
00:05:49.870 --> 00:05:53.170
It's just calling,
it's like I got this thing from the user.

81
00:05:53.170 --> 00:05:55.115
I'm gonna call this function and

82
00:05:55.115 --> 00:05:58.870
inject these objects as props
into this particular component.

83
00:06:02.490 --> 00:06:04.770
&gt;&gt; Brian Holt: Okay, so
that's what happens on the UI.

