WEBVTT

1
00:00:00.440 --> 00:00:03.930
&gt;&gt; Brian Holt: Now, we want to go
make search uses as well, right?

2
00:00:03.930 --> 00:00:06.600
So, go back to search jsx.

3
00:00:06.600 --> 00:00:13.030
We have this imput here and
the first thing Im just going to do

4
00:00:13.030 --> 00:00:18.156
is pull this input out, go back to header.

5
00:00:18.156 --> 00:00:23.617
So, if space Does want to use the input,

6
00:00:23.617 --> 00:00:29.226
it's going to look like
the one that we had there.

7
00:00:29.226 --> 00:00:31.941
So, it's gonna be a bit of a problem for

8
00:00:31.941 --> 00:00:37.964
us because
&gt;&gt; Brian Holt: Handle

9
00:00:37.964 --> 00:00:39.876
search term doesn't happen in header.

10
00:00:39.876 --> 00:00:43.453
In fact, header has no concept of
what handling a search term is.

11
00:00:43.453 --> 00:00:44.630
It doesn't keep track of it.

12
00:00:44.630 --> 00:00:46.500
And, that's not important in header.

13
00:00:46.500 --> 00:00:47.000
Right?

14
00:00:48.800 --> 00:00:53.570
So, we need, well,
let's go ahead and pull that out,

15
00:00:53.570 --> 00:00:57.090
and say header, right?

16
00:00:57.090 --> 00:00:57.950
import header up here.

17
00:00:59.860 --> 00:01:05.636
import header from ./header.
&gt;&gt; Brian Holt: And

18
00:01:05.636 --> 00:01:08.914
the first thing I wanna say is
showSearchTerm or showSearch,

19
00:01:08.914 --> 00:01:14.115
right?
&gt;&gt; Brian Holt: But the problem is,

20
00:01:14.115 --> 00:01:20.800
the input that modifies this searchTerm
right here, lives in header now, right?

21
00:01:20.800 --> 00:01:24.616
So, we kinda have this problem because
it's not like header can reach up to

22
00:01:24.616 --> 00:01:26.280
the parent and modify state.

23
00:01:26.280 --> 00:01:27.350
We talked about that right.

24
00:01:27.350 --> 00:01:29.090
Only a component can modify its own state.

25
00:01:31.140 --> 00:01:33.310
This is kind of a problem right.

26
00:01:33.310 --> 00:01:37.460
Because we have this encapsulation state
and encapsulation is a good thing right.

27
00:01:37.460 --> 00:01:40.820
Knowing where state gets modified
is a big part of debugging.

28
00:01:40.820 --> 00:01:44.820
But sometimes other things need
to modify each other right.

29
00:01:44.820 --> 00:01:47.190
While there's kind of
this escape hatch that

30
00:01:47.190 --> 00:01:49.280
we have this handle search term change,
right?

31
00:01:49.280 --> 00:01:51.480
This already exists.

32
00:01:51.480 --> 00:01:54.190
Why can't we just pass
that down to the child?

33
00:01:54.190 --> 00:01:58.139
So we can just say
HandleSearchTermChange={this

34
00:01:58.139 --> 00:02:00.656
.handlesearchtermchange}.

35
00:02:06.130 --> 00:02:11.250
Right, so now we're passing this function

36
00:02:11.250 --> 00:02:14.325
down into the child and
now the child has a function called

37
00:02:14.325 --> 00:02:19.509
this.props.handlesearchtermchange that I
can call with whatever happening right.

38
00:02:24.380 --> 00:02:27.710
Another thing that it's gonna need as well
because it needs to display the search

39
00:02:27.710 --> 00:02:32.818
term is it's also gonna have
to have searchTerm equals

40
00:02:32.818 --> 00:02:37.880
this.state.searchTerm.

41
00:02:37.880 --> 00:02:40.971
So, can I make this multiple lines
cuz it's getting hard to read.

42
00:02:46.716 --> 00:02:47.667
&gt;&gt; Brian Holt: Nope, won't let me.

43
00:02:47.667 --> 00:02:52.857
Thanks.
&gt;&gt; Brian Holt: Right,

44
00:02:52.857 --> 00:02:56.449
so we're gonna be passing these
things down into Header so

45
00:02:56.449 --> 00:02:59.473
then Header's gonna know
what to do with these.

46
00:02:59.473 --> 00:03:05.310
So, come back down to Header and now,
we have a couple more props coming in.

47
00:03:05.310 --> 00:03:07.035
Which are gonna be all maybe types, so

48
00:03:07.035 --> 00:03:12.760
handleSearchTermChange?: is going
to be a capital F Function.

49
00:03:14.410 --> 00:03:18.200
The reason why it's not
lowercase f function is because

50
00:03:18.200 --> 00:03:20.090
that's a keyword, right?

51
00:03:20.090 --> 00:03:22.230
So they use capital F to get around that.

52
00:03:24.540 --> 00:03:27.540
And then search term question
mark is going to be a string.

53
00:03:27.540 --> 00:03:33.080
I'm going to come down here
to the defaultProps and

54
00:03:35.340 --> 00:03:39.950
handleSearchTermChange is just
going to be by default a noop

55
00:03:39.950 --> 00:03:45.014
function.
&gt;&gt; Brian Holt: And

56
00:03:45.014 --> 00:03:48.890
searchTerm, if nothing is provided
it's going to be an empty string.

57
00:03:48.890 --> 00:03:51.680
These are actually not really
super important because we're

58
00:03:51.680 --> 00:03:54.190
gonna be careful to not read from these.

59
00:03:54.190 --> 00:03:57.739
But this is just kind of further guarding
yourself against run time errors.

60
00:04:00.530 --> 00:04:04.110
It's also required by the linter, so
we're placating the linting gods.

61
00:04:07.381 --> 00:04:10.664
&gt;&gt; Brian Holt: Okay, so now this input

62
00:04:10.664 --> 00:04:18.220
onChange this.props.handleSearch
TermChange And

63
00:04:18.220 --> 00:04:23.473
value is not going to be this.state,

64
00:04:23.473 --> 00:04:29.892
it's going to be this.props.searchTern.

65
00:04:36.990 --> 00:04:38.887
&gt;&gt; Brian Holt: I think those are right,

66
00:04:38.887 --> 00:04:41.760
let's just run our Yarn flow.

67
00:04:41.760 --> 00:04:43.140
Make sure that's correct.

68
00:04:43.140 --> 00:04:43.640
No, it's not.

69
00:04:44.940 --> 00:04:46.500
Right.
The reason why is it's not

70
00:04:46.500 --> 00:04:47.860
this anymore, right.

71
00:04:47.860 --> 00:04:52.970
Because header is a functional component,
it's not this.props, it's just props.

72
00:05:02.176 --> 00:05:02.790
&gt;&gt; Brian Holt: Okay.

73
00:05:03.800 --> 00:05:05.600
Now all of the linting gods are happy.

74
00:05:07.820 --> 00:05:14.750
So now if we go back to here, and go back,
just a hard refresh to make sure.

75
00:05:14.750 --> 00:05:20.040
If I type black in here,
it's still doing our searching, right?

76
00:05:20.040 --> 00:05:21.830
This is the way you have child and

77
00:05:21.830 --> 00:05:25.450
parent components interact with each
other is you pass functions up and down.

78
00:05:25.450 --> 00:05:28.540
Well, just down, really.

79
00:05:28.540 --> 00:05:32.880
So the child has to let the parent know,
like "hey, parent.

80
00:05:32.880 --> 00:05:37.150
I had a an event, this happened." But
the cool thing is, if you go up

81
00:05:37.150 --> 00:05:40.350
here to search, search is still in
charge of it's own destiny, right?

82
00:05:40.350 --> 00:05:42.911
There's nothing from stopping
me from saying, "you know what,

83
00:05:42.911 --> 00:05:44.569
I'm not gonna handle that event, right?

84
00:05:44.569 --> 00:05:47.909
So, the parent is still responsible for
modifying its own state,

85
00:05:47.909 --> 00:05:51.620
it's just the child is reaching up and
saying, this happened.

86
00:05:51.620 --> 00:05:56.151
Now, it's your problem, right?

87
00:05:56.151 --> 00:05:59.320
Any questions about that?
&gt;&gt; Audience 1: Can you click on header?

88
00:05:59.320 --> 00:06:00.367
&gt;&gt; Brian Holt: Yeah, sure.

89
00:06:00.367 --> 00:06:02.141
I'll push a branch right
here momentarily here as

90
00:06:02.141 --> 00:06:07.369
well.
&gt;&gt; Brian Holt: It's

91
00:06:07.369 --> 00:06:09.110
worth talking about this as well.

92
00:06:09.110 --> 00:06:12.980
This if statement right here, this is
kind of the way that you do conditionals,

93
00:06:12.980 --> 00:06:15.470
like conditionally showing and
hiding things.

94
00:06:15.470 --> 00:06:19.403
You just create a variable,
in this case I called it utilSpace, right?

95
00:06:19.403 --> 00:06:22.980
If I'm gonna showSearch,
then put this input there.

96
00:06:22.980 --> 00:06:25.463
If not, show the Back button.

97
00:06:25.463 --> 00:06:27.720
You can get clever with ternaries.

98
00:06:27.720 --> 00:06:29.300
I do not like getting
clever with ternaries.

99
00:06:29.300 --> 00:06:30.910
So that's why I do not do it, right.

100
00:06:30.910 --> 00:06:37.090
I could do something like props.utilSpace,
or showSearch, right.

101
00:06:37.090 --> 00:06:40.820
And then if that, then h1 showSearch.

102
00:06:43.050 --> 00:06:48.355
else h2 don't show

103
00:06:48.355 --> 00:06:53.050
search, right?

104
00:06:53.050 --> 00:06:56.160
This would work as well.

105
00:06:56.160 --> 00:06:58.990
Some people like it,
I don't like it at all.

106
00:07:06.439 --> 00:07:07.480
&gt;&gt; Brian Holt: There's an upcoming

107
00:07:07.480 --> 00:07:13.374
JavaScript
&gt;&gt; Brian Holt: Feature

108
00:07:13.374 --> 00:07:18.273
called do expressions which we're not
gonna go over since it's like stage one or

109
00:07:18.273 --> 00:07:22.880
something like that but this would
solve a lot of this stuff, as well.

110
00:07:22.880 --> 00:07:28.190
Basically, the idea is, you could say,
inside of here, do something like that.

111
00:07:28.190 --> 00:07:33.210
And then you can actually
write a block of code in here.

112
00:07:33.210 --> 00:07:37.331
And you could do like
the conditions in line that way.

113
00:07:37.331 --> 00:07:40.432
Again, I think it would
look something like this.

114
00:07:40.432 --> 00:07:46.157
If show (prop showSearch)

115
00:07:46.157 --> 00:07:51.165
then each one here else &lt;

116
00:07:51.165 --> 00:07:56.428
h2 &gt; show this, right?

117
00:07:56.428 --> 00:08:01.770
This is what it would look
like with the do expression.

118
00:08:03.000 --> 00:08:04.130
It looks kinda weird, right.

119
00:08:04.130 --> 00:08:04.707
But anyway,

120
00:08:04.707 --> 00:08:12.011
that's kind of the way it works.
&gt;&gt; Brian Holt: You can ask yourself if

121
00:08:12.011 --> 00:08:17.055
you like that better, I'm not sure I do.
&gt;&gt; Brian Holt: I

122
00:08:17.055 --> 00:08:19.151
like this as well because
it's explicit at the top.

123
00:08:19.151 --> 00:08:22.680
You can say I have this util space and
then when I'm reading this down here.

124
00:08:22.680 --> 00:08:23.776
It's like okay.

125
00:08:23.776 --> 00:08:25.756
Either this or [INAUDIBLE] just
going to show up down there.

126
00:08:25.756 --> 00:08:29.923
So, up to you.

