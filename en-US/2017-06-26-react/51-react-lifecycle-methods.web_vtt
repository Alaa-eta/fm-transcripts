WEBVTT

1
00:00:00.260 --> 00:00:02.570
&gt;&gt; Brian Holt: And
now we're gonna do AJAX.

2
00:00:02.570 --> 00:00:06.810
So remarkably we haven't actually
had to use lifecycle methods yet.

3
00:00:06.810 --> 00:00:10.680
Which is crazy, because they're actually
fairly common when you're writing React,

4
00:00:10.680 --> 00:00:13.060
but we actually haven't
had to use them yet.

5
00:00:13.060 --> 00:00:16.220
So we're going to
introduce something now so

6
00:00:16.220 --> 00:00:19.870
that you can see what these
lifecycle methods are.

7
00:00:20.980 --> 00:00:25.960
So going back to our code,
let's look at something like ShowCard.

8
00:00:25.960 --> 00:00:27.787
It's pretty simple one, no,

9
00:00:27.787 --> 00:00:32.775
let's look at Search.
&gt;&gt; Brian Holt: So you have

10
00:00:32.775 --> 00:00:37.090
to think of the lifecycle of a component,
as it like lives on the DOM, right?

11
00:00:37.090 --> 00:00:39.940
The first thing that happens to
is it calls its constructor.

12
00:00:39.940 --> 00:00:43.550
Inevitably just that's how
ESX classes work, right?

13
00:00:43.550 --> 00:00:46.810
Then after that,
it's gonna get us onto fault props.

14
00:00:46.810 --> 00:00:49.870
And then right before it
gets mounted to the DOM,

15
00:00:49.870 --> 00:00:53.070
it's gonna call a method
called componentWillMount.

16
00:00:53.070 --> 00:00:57.820
So I actually what I would do here,
is I think it goes here.

17
00:00:57.820 --> 00:01:01.287
So it's componentWillMount,
you don't have to copy this,

18
00:01:01.287 --> 00:01:05.463
I'm just gonna show you.
&gt;&gt; Brian Holt: So

19
00:01:05.463 --> 00:01:10.240
this here is a method
that's specific to React.

20
00:01:10.240 --> 00:01:13.060
That this is going to get
called right before React

21
00:01:13.060 --> 00:01:14.640
renders it out to the DOM, right.

22
00:01:14.640 --> 00:01:16.680
So it's called render for
the first time already.

23
00:01:16.680 --> 00:01:19.700
So it actually has the first
amount of markup, and

24
00:01:19.700 --> 00:01:21.610
then it's about to be mounted to the DOM.

25
00:01:21.610 --> 00:01:24.600
It's gonna call this
componentWillMount method.

26
00:01:24.600 --> 00:01:28.900
And to be honest with you, you're not
gonna use componentWillMount very much.

27
00:01:28.900 --> 00:01:31.880
But, one of the things
that it is useful for and

28
00:01:31.880 --> 00:01:36.390
is important is if you have something that
needs to happen both on the server side,

29
00:01:36.390 --> 00:01:40.110
if you're doing server side rendering,
and the client side.

30
00:01:40.110 --> 00:01:44.710
So that's the key about componentWillMount
is that it does get called on the server.

31
00:01:44.710 --> 00:01:50.071
The one that you're gonna end up using
more is componentDidMount, right?

32
00:01:50.071 --> 00:01:54.195
So this is going to get called after
it's been rendered out to the DOM for

33
00:01:54.195 --> 00:01:55.450
the very first time.

34
00:01:55.450 --> 00:02:01.180
Now, what's peculiar and good about
componentDidMount is you can be guaranteed

35
00:02:01.180 --> 00:02:03.860
that window is available at this point,
right?

36
00:02:03.860 --> 00:02:05.420
Because it's already been rendered, and

37
00:02:05.420 --> 00:02:08.210
it's not going to get called a node,
right?

38
00:02:08.210 --> 00:02:10.416
So anything that you
wanna do with window or

39
00:02:10.416 --> 00:02:14.670
anything you wanna do like doing AJAX
request are gonna go in componentDidMount.

40
00:02:14.670 --> 00:02:17.130
Thus, you're gonna use
componentDidMount quite a bit.

41
00:02:18.850 --> 00:02:22.600
A good example, so besides AJAX and
besides any thing that references window

42
00:02:22.600 --> 00:02:25.670
or document, another good thing
that you're gonna do in windows

43
00:02:25.670 --> 00:02:29.460
componentDidMount is if you need
to integrate with another library.

44
00:02:29.460 --> 00:02:31.770
So an example that would be D3, right?

45
00:02:31.770 --> 00:02:35.895
Say you have a React component that
renders out like a chart with D3.

46
00:02:35.895 --> 00:02:40.643
You would do all that stuff here
in componentDidMount to do that

47
00:02:40.643 --> 00:02:42.800
integration level with it.

48
00:02:42.800 --> 00:02:45.700
If you need to add any like
event listeners on the window,

49
00:02:45.700 --> 00:02:46.970
that's when you would do this as well.

50
00:02:48.470 --> 00:02:51.060
So, yes we're gonna be using
componentDidMount quite a bit.

51
00:02:53.270 --> 00:02:54.830
There's a couple other room,

52
00:02:54.830 --> 00:02:57.980
I have them documented out here in my
notes if you wanna go and read them and

53
00:02:57.980 --> 00:03:01.150
they're also really well documented
in the React documentation.

54
00:03:01.150 --> 00:03:05.868
There's component well receive props
that's gonna called every time

55
00:03:05.868 --> 00:03:09.417
that you're gonna get brand
new props from a parent.

56
00:03:09.417 --> 00:03:13.124
There's should component update,
which we actually will use later.

57
00:03:13.124 --> 00:03:14.788
It's a performance optimization message,

58
00:03:14.788 --> 00:03:16.690
which typically you don't
have to worry about.

59
00:03:16.690 --> 00:03:20.297
React is plenty performance by itself,
but sometimes,

60
00:03:20.297 --> 00:03:25.117
you have performance problems and
this is kind of the escape hatch for that.

61
00:03:25.117 --> 00:03:29.799
And then the last one is
componentWillUnmount.

62
00:03:32.831 --> 00:03:33.788
&gt;&gt; Brian Holt: Like that,

63
00:03:33.788 --> 00:03:37.182
I think.
&gt;&gt; Brian Holt: This

64
00:03:37.182 --> 00:03:40.067
is before the component is
about to leave the DOM, and

65
00:03:40.067 --> 00:03:43.400
typically this is gonna be
where you clean up, right.

66
00:03:43.400 --> 00:03:47.290
If you added any event listeners,
if you need to detach from D3, or

67
00:03:47.290 --> 00:03:51.290
anything like that all that kind of
clean-up stuff will happen here.

68
00:03:51.290 --> 00:03:54.413
Again, not something that you're typically
going to need to do, but it's available

69
00:03:54.413 --> 00:03:58.430
there for you should you need it.
&gt;&gt; Brian Holt: And that's really it.

70
00:03:59.760 --> 00:04:03.280
So it's just a bunch of hooks that
you can hook into the lifecycle

71
00:04:03.280 --> 00:04:06.380
of these components to kind of different
things, depending what you need to do

