WEBVTT

1
00:00:00.145 --> 00:00:01.985
&gt;&gt; Brian Holt: Something I
want you to do now.

2
00:00:01.985 --> 00:00:05.887
Not all of your colleagues are gonna bite
off right away on installing Prettier into

3
00:00:05.887 --> 00:00:06.619
their editor.

4
00:00:06.619 --> 00:00:10.240
Some people get freaked out when
stuff starts moving around.

5
00:00:10.240 --> 00:00:12.814
So you can be a good person and
come into scripts and

6
00:00:12.814 --> 00:00:15.590
give them the ability to run
it from the command line.

7
00:00:15.590 --> 00:00:19.404
It's kind of, again, a good rule of thumb
is anything that you expect people to do,

8
00:00:19.404 --> 00:00:22.160
you should write it
into your scripts here.

9
00:00:22.160 --> 00:00:25.176
So what we're gonna do now
is we're gonna do format.

10
00:00:28.591 --> 00:00:30.365
&gt;&gt; Brian Holt: And it's gonna be prettier.

11
00:00:33.037 --> 00:00:37.099
&gt;&gt; Brian Holt: And we want prettier
to run every JS file and CSS file,

12
00:00:37.099 --> 00:00:38.738
cuz it also does CSS.

13
00:00:38.738 --> 00:00:42.806
It does JSON, it does HTML, LESS, SASS,

14
00:00:42.806 --> 00:00:46.778
it does a lot of different kinds of files.

15
00:00:49.266 --> 00:00:54.986
&gt;&gt; Brian Holt: So we want it to run on,
&gt;&gt; Brian Holt: So

16
00:00:54.986 --> 00:00:56.685
you have to surround
these in slash quotes.

17
00:00:56.685 --> 00:00:58.522
These are escaping the quotes, right,

18
00:00:58.522 --> 00:01:01.232
because it's already inside
of double quotes cuz of JSON.

19
00:01:02.960 --> 00:01:06.537
&gt;&gt; Brian Holt: And we want it to
run on every source file inside

20
00:01:06.537 --> 00:01:10.911
of,
&gt;&gt; Brian Holt: I think this is right,

21
00:01:19.068 --> 00:01:22.410
&gt;&gt; Brian Holt: And then we want it to run

22
00:01:22.410 --> 00:01:27.424
on every file that is .{js, jsx,

23
00:01:27.424 --> 00:01:34.126
css, html, json},
cuz we have all of those.

24
00:01:37.061 --> 00:01:38.914
&gt;&gt; Brian Holt: And
you also want it to write.

25
00:01:45.862 --> 00:01:48.858
&gt;&gt; Brian Holt: So let me just make
sure that that actually works before I

26
00:01:48.858 --> 00:01:50.500
explain it.

27
00:01:50.500 --> 00:01:54.272
So if I say, Save, npm run format.

28
00:02:00.676 --> 00:02:02.210
&gt;&gt; Brian Holt: Doesn't work on HTML.

29
00:02:02.210 --> 00:02:03.773
Okay, not out of the box.

30
00:02:06.848 --> 00:02:08.511
&gt;&gt; Brian Holt: Okay, cool.

31
00:02:08.511 --> 00:02:14.539
So talk about this for
just a second, format.

32
00:02:14.539 --> 00:02:18.983
So now, if I give this to my
colleague that's old-school VI

33
00:02:18.983 --> 00:02:22.306
user that refuses to
install any extension.

34
00:02:22.306 --> 00:02:26.199
We all know the type [LAUGH], right?

35
00:02:26.199 --> 00:02:29.263
You can say is like, okay, you don't
have to install it into your edit or

36
00:02:29.263 --> 00:02:30.178
anything like that.

37
00:02:30.178 --> 00:02:33.683
Anytime before you commit,
just run npm run format, and

38
00:02:33.683 --> 00:02:36.615
it'll format all of your
code the correct way.

39
00:02:36.615 --> 00:02:42.326
So now if I come over here to my project,
and I say npm run whatever is here,

40
00:02:42.326 --> 00:02:48.570
so npm run format, it's gonna run
this bash command for them, right?

41
00:02:48.570 --> 00:02:52.942
So npm run format,
it's gonna go run on App.js and

42
00:02:52.942 --> 00:02:57.560
style.css, and it's gonna format
those things correctly for me, right?

43
00:02:58.980 --> 00:03:02.050
Now, I will never run this code because

44
00:03:02.050 --> 00:03:03.680
it's already installed on my editor,
right?

45
00:03:03.680 --> 00:03:05.527
I don't need to, but someone else might.

46
00:03:07.356 --> 00:03:10.332
&gt;&gt; Brian Holt: What's also useful about
this is now I can run this in CI,

47
00:03:10.332 --> 00:03:14.610
my continuous integration, and if someone
tries to check in code that has not been

48
00:03:14.610 --> 00:03:18.650
formatted by Prettier, you can just say,
hey, Prettier, throw an error.

49
00:03:18.650 --> 00:03:23.087
Which I think you do by,
if you wanted to do that,

50
00:03:23.087 --> 00:03:27.543
the way that would look
would be format:check.

51
00:03:27.543 --> 00:03:32.397
And it would be --check-different,
I think.

52
00:03:33.900 --> 00:03:37.511
&gt;&gt; Brian Holt: Let's try it, let me
just make sure that I have Prettier.

53
00:03:51.816 --> 00:03:54.944
&gt;&gt; Brian Holt: There is a lot of
configuration here, --list-different,

54
00:03:54.944 --> 00:03:55.950
that's what it is.

55
00:03:59.662 --> 00:04:06.105
&gt;&gt; Brian Holt: Okay, so
now what you can do, npm run format:check.

56
00:04:06.105 --> 00:04:09.839
You would run this on Travis CI, or
Circle CI, or something like that.

57
00:04:11.750 --> 00:04:15.693
And right now, it's gonna pass,
nothing gets outputted,

58
00:04:15.693 --> 00:04:18.487
there's no errors or anything like that.

59
00:04:18.487 --> 00:04:22.190
So that means that this will pass CI,
right?

60
00:04:22.190 --> 00:04:25.804
But if something was not checked
in with the Prettier run,

61
00:04:25.804 --> 00:04:28.250
let's just try that for just a second.

62
00:04:28.250 --> 00:04:29.533
Can I turn off Prettier?

63
00:04:33.873 --> 00:04:38.780
&gt;&gt; Brian Holt: All right, so,
&gt;&gt; Brian Holt: Just to show you what it

64
00:04:38.780 --> 00:04:40.264
looks like when it fails.

65
00:04:40.264 --> 00:04:44.201
False, Save.

66
00:04:44.201 --> 00:04:48.649
Okay, so now if I do npm run format:check,
it's gonna say, hey,

67
00:04:48.649 --> 00:04:53.530
App.js wasn't formatted with Prettier,
I'm gonna throw an error.

68
00:04:53.530 --> 00:04:56.893
And then this would be caught by your CI,
and your CI would say,

69
00:04:56.893 --> 00:04:58.295
you can't check that in.

70
00:05:06.471 --> 00:05:07.710
&gt;&gt; Brian Holt: True.

71
00:05:09.752 --> 00:05:13.510
&gt;&gt; Brian Holt: Okay, any questions
about Prettier before we move on?

72
00:05:18.441 --> 00:05:20.150
&gt;&gt; Brian Holt: This is my favorite tool.

73
00:05:20.150 --> 00:05:24.017
I've been coding with it for two years
now, and I can't code without it.

74
00:05:32.197 --> 00:05:36.722
&gt;&gt; Brian Holt: So there's not really
an alternative right now to Prettier,

75
00:05:36.722 --> 00:05:39.340
which is okay, it's doing great.

76
00:05:39.340 --> 00:05:42.134
During the course of this entire course,
I will try and

77
00:05:42.134 --> 00:05:45.539
point out if there's alternative
technologies that you can use,

78
00:05:45.539 --> 00:05:48.890
because I'm gonna give you
an opinionated stack, right?

79
00:05:48.890 --> 00:05:51.800
I'm gonna give you the things that I like
to use, that I think it's a good idea for

80
00:05:51.800 --> 00:05:53.180
you to use.

81
00:05:53.180 --> 00:05:55.890
But I hopefully will also show you
how to plug in different things,

82
00:05:55.890 --> 00:05:57.990
if you have different opinions than I do,
so

83
00:05:57.990 --> 00:06:00.561
that you can kind of construct
your perfect frontend stack.

